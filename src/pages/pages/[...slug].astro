---
import CategoriesLayout from "../../layouts/CategoriesLayout.astro";
import type { Page } from "../../interfaces/page";
import { url, v, uid, type } from "../../utils/const";

// const params = Astro.params
// console.log('params', params)
export const prerender = true;

export async function getStaticPaths() {
  const pagess: Page[] = await fetch(
		`${url}/api/${v}/${type}/query/pages/page/siteId?id=${uid}`
	).then((response) => response.json());
  // console.log('pagesss', pagess)

  
  return pagess.map((page) => {
    return {
      params: { slug: page.slug },
      props: { page },
    };
  });
}

const { page } = Astro.props;
// console.log('page', page)
---
<CategoriesLayout title={page.data.name}>
  <h1>{page.data.description}</h1>
</CategoriesLayout>